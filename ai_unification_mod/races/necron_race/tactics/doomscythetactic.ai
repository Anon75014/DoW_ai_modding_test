----------------------------------------
-- File: 'doomscythetactic.ai'
-- Edited by Gambit @ 22.01.2021

class 'DoomScytheTactic' (NecronVehicleTactic)

DoomScythe = {}

function DoomScytheTactic:__init( squad_ai ) super( squad_ai )
	
	self:SetName("Doom Scythe Tactic")
	self.lastSpawn = g_iGMT
end


function DoomScytheTactic:InitAbilities()

end


function DoomScytheTactic:DoAbilities()

	-- Spawn Praetorians
	if g_iGMT > self.lastSpawn + 60 and self.squad_ai:CanDirectSpawn() then 
		local health = self.squad_ai:GetHealthPercentage()
		if health > 0.6 or (health > 0.35 and not self.squad_ai:WasRecentlyHurt()) then
			if resource_manager:GetResourceAmount():Get( ResourceAmount.RT_Power ) > 550 then
				self.squad_ai:DoDirectSpawn()
				self.lastSpawn = g_iGMT
				return
			end
		end
	end

	-- New code to unstuck units with pathing issues, that can jump.
	-- Call it with [true], only for multi-membered squads.
	self:SolveStuckCase(false)
end
