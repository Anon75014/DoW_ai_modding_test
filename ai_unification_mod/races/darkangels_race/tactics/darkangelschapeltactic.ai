----------------------------------------
-- File: 'darkangelschapeltactic.ai'
-- Edited by Thudmeizer		@ 16.01.2011
-- Edited by Gambit		@ 02.10.2016

class 'DarkAngelsChapelTactic' (BaseTactic)

function DarkAngelsChapelTactic:__init( base_ai ) super( base_ai )

	self:SetName("DarkAngels Chapel Tactic")
	
	-- Building can deepstrike troops, these are used for the updated code
	self.timeDelay = g_iGMT
	self.buildingDS_ID = self.base_ai:GetID()
end

-- Updated method to disallow crowding, around DS-capable buildings
-- Works OK, but the squads' tactics are not updated, so they persist on entering a "filled" building..
function DarkAngelsChapelTactic:CanDeepStrikeTroops()
	local build_channel = build_manager:GetBuildChannelFromID(self.buildingDS_ID)
	if build_channel ~= nil then
		if build_channel:CanDeepStrike() and g_iGMT > self.timeDelay + 6 then
			return false
		else
			self.timeDelay = g_iGMT
			return true
		end
	end
end
