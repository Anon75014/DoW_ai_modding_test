----------------------------------------
-- File: 'hellhoundtactic.ai'
-- Edited by Thudmeizer @ 13.01.2009

class 'HellhoundTactic' (SteelLegionVehicleTactic)

Hellhound = {}

function HellhoundTactic:__init( squad_ai ) super( squad_ai )

	   self:SetName("Hellhound Tactic")
end

function HellhoundTactic:InitAbilities()

	if (Hellhound.imolate_id == nil) then
	    Hellhound.imolate_id = cpu_manager.stats:GetAbilityID( "steel_legion_hellhound_imolate" )
	end
end

function HellhoundTactic:DoAbilities()

	-- Check if we're in close combat
	oEnemySquad = Ability.Filters.CloseEnemy(self.squad_ai:GetPosition(), 5, 1)
	if (oEnemySquad ~= nil and not oEnemySquad:IsBroken()) then
	
		-- Check for hellhound immolate
		if (self.squad_ai:CanDoAbility(Hellhound.imolate_id)) then
			self.squad_ai:DoSpecialAbility(Hellhound.imolate_id) 
		end
	end
end

function HellhoundTactic:Update()

   if self:IsComplete() then
      return
   end

   --state machine
   if not VehicleTactic.Update( self ) then
	  return
   end

end