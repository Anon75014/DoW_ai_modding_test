----------------------------------------
-- File: 'steellegionvehicletactic.ai'
-- Edited by Thudmeizer         @ 16.09.2025

class 'SteelLegionVehicleTactic' (VehicleTactic)

function SteelLegionVehicleTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Steel Legion Vehicle Tactic")
end

-- Check if the vehicle should dance away in melee
function SteelLegionVehicleTactic:CheckVehicleDance(sName)

	if (sName == "steel_legion_squad_tank_sentinel" or
		sName == "steel_legion_squad_tank_chimera" or
		sName == "steel_legion_squad_tank_chimera_autocannon" or
		sName == "steel_legion_squad_tank_hellhound" or
		sName == "steel_legion_squad_thunderbolt" or
		sName == "steel_legion_squad_tank_hydra" or
		sName == "steel_legion_squad_tank_manticore" or
		sName == "steel_legion_squad_tank_wyvern" or
		sName == "steel_legion_squad_tank_salamander" or
		sName == "steel_legion_squad_tank_thunderer" or
		sName == "steel_legion_squad_tank_defender" or
		sName == "steel_legion_squad_tank_destroyer" or
		sName == "steel_legion_squad_tank_leman_russ" or
		sName == "steel_legion_squad_tank_basilisk" or
		sName == "steel_legion_squad_tank_incinerator" or
		sName == "steel_legion_squad_tank_demolisher" or
		sName == "steel_legion_squad_tank_executioner" or
		sName == "steel_legion_squad_tank_conqueror" or
		sName == "steel_legion_squad_tank_exterminator" or
		sName == "steel_legion_squad_tank_vanquisher" or
		sName == "steel_legion_squad_tank_fortress_of_arrogance" or
		sName == "steel_legion_squad_tank_baneblade" or
		sName == "steel_legion_squad_tank_shadowsword" or
		sName == "steel_legion_squad_tank_stormsword" or
		sName == "steel_legion_squad_tank_stormblade" or
		sName == "steel_legion_squad_tank_ordinatus") then
		return true
	end
	return false
end

function SteelLegionVehicleTactic:CanOnlyDecap()

	local sSquadName = self.squad_ai:GetSquadName()
	if (sSquadName == "steel_legion_squad_tank_sentinel") then
		return true
	end
	return false
end

function SteelLegionVehicleTactic:DoAbilities()

	-- Check for SearchLight (Combat = On, No Combat = On, Retreating = Off)
        if playing_night_map == 1 then

	local light1_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_sentinel" )
	Ability.DoAbilitySearchLight( self.squad_ai, light1_id, " vehicle" )

	local light2_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_chimera" )
	Ability.DoAbilitySearchLight( self.squad_ai, light2_id, " vehicle" )

	local light3_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_hellhound" )
	Ability.DoAbilitySearchLight( self.squad_ai, light3_id, " vehicle" )

	local light4_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_salamander" )
	Ability.DoAbilitySearchLight( self.squad_ai, light4_id, " vehicle" )

	local light5_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_trojan" )
	Ability.DoAbilitySearchLight( self.squad_ai, light5_id, " vehicle" )

	local light6_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_thunderer" )
	Ability.DoAbilitySearchLight( self.squad_ai, light6_id, " vehicle" )

	local light7_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_destroyer" )
	Ability.DoAbilitySearchLight( self.squad_ai, light7_id, " vehicle" )

	local light8_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_lemanruss_light" )
	Ability.DoAbilitySearchLight( self.squad_ai, light8_id, " vehicle" )

	local light9_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_basilisk" )
	Ability.DoAbilitySearchLight( self.squad_ai, light9_id, " vehicle" )

	local light10_id = cpu_manager.stats:GetAbilityID( "steel_legion_searchlight_stormblade" )
	Ability.DoAbilitySearchLight( self.squad_ai, light10_id, " vehicle" )

	end

	-- Call standard method
	VehicleTactic.DoAbilities(self)
end
