----------------------------------------
-- File: 'morkanauttactic.ai'
-- Edited by Gambit		@ 09.09.2021
-- Edited by Thudmeizer		@ 22.09.2023

class 'MorkanautTactic' (OrkVehicleTactic)

Morkanaut = {}

function MorkanautTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Gorkanaut and Morkanaut Tactic")

	-- Vehicle is a light transport
	self.m_iTransportVehicle = 1
	self.m_iTransportSlots = 1
end

function MorkanautTactic:InitAbilities()

	-- Init ability ID's
	if Morkanaut.shield_id == nil then
		Morkanaut.shield_id = cpu_manager.stats:GetAbilityID( "ork_morkanaut_super_chargy" )
	end
end

function MorkanautTactic:DoAbilities()
	if self.squad_ai:IsInCombat() then
		if self.squad_ai:CanDoAbility(Morkanaut.shield_id) and self.squad_ai:WasRecentlyHurt()
		and resource_manager:GetResourceAmount():Get(ResourceAmount.RT_Power) > 300 then
			self.squad_ai:DoSpecialAbility(Morkanaut.shield_id)
		end
	end
end
