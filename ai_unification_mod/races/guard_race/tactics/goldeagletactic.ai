----------------------------------------
-- File: 'goldeagletactic.ai'
-- Edited by Shepherd 6.5.2023
-- Edited by Thudmeizer 16.06.2023

class 'GoldEagleTactic' (GuardVehicleTactic)

GoldEagle = {}

function GoldEagleTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Gold Eagle Squad Tactic")
end

function GoldEagleTactic:InitAbilities()

	-- Init ability ID's
	if (GoldEagle.airstrike_id == nil) then
		GoldEagle.airstrike_id = cpu_manager.stats:GetAbilityID( "guard_thunderbolt_strike_general" )	
	end
	
	if (GoldEagle.excalibur_id == nil) then
		GoldEagle.excalibur_id = cpu_manager.stats:GetAbilityID( "guard_earthshaker_bombardment" )	
	end
end

function GoldEagleTactic:DoAbilities()

	-- Try to use abilities
	if self.squad_ai:IsInCombat() then
		Ability.DoAbilityArea( self.squad_ai, GoldEagle.excalibur_id, Ability.Filters.CloseEnemy, 5, 2 )
		Ability.DoAbilityTargetEntity(self.squad_ai, GoldEagle.excalibur_id, Ability.EntityFilters.CloseBaseEntityEnemy, 2)
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.excalibur_id, Ability.Filters.CloseInfantryEnemy, 2 )
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.excalibur_id, Ability.Filters.CloseMonsterEnemy, 3 )
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.excalibur_id, Ability.Filters.CloseVehicleEnemy, 1 )
	else
		Ability.DoAbilityArea( self.squad_ai, GoldEagle.airstrike_id, Ability.Filters.CloseEnemy, 5, 2 )
		Ability.DoAbilityTargetEntity(self.squad_ai, GoldEagle.airstrike_id, Ability.EntityFilters.CloseBaseEntityEnemy, 4)
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.airstrike_id, Ability.Filters.CloseVehicleEnemy, 4 )
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.airstrike_id, Ability.Filters.CloseMonsterEnemy, 3 )
		Ability.DoAbilityTarget( self.squad_ai, GoldEagle.airstrike_id, Ability.Filters.CloseCommanderEnemy, 2 )
	end
end
