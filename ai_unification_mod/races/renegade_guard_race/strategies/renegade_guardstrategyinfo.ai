----------------------------------------
-- File: 'renegade_guardstrategyinfo.ai'
-- Edited by Kekoulis		@ 04.04.2024
-- Edited by Thudmeizer		@ 05.11.2025

BuildBaseStrategyInfo = 
{
	renegade_guard_race =
	{
		post_builder = 1,
		flag_capture = 2,

		-- Reserve this amount for building units, reinforcing and upgrading
		req_reserve = 200,

		-- need at least this at all times
		squad_cap_threshold = 2,

		-- need at least this at all times
		support_cap_threshold = 3,

		-- used to calculate wants for engineers
		Engineers =
		{
			--number of engineers we're aiming for
			want = 2,
		},

		-- Is used to modify the army strength in the build programs (Allows faster balancing adjustments)
		ArmyStrengthModifier = 1.0,

		-- Item-Syntax: Min. Tier, Min. Requisition, Min. Power, Min. ArmyStrength, Object-Count, Object-Type, Object-Name
		BuildPrograms =
		{	
			-- Vraks Strategy
			{
				{ 1, 0, 0, 0, 1,	"Research",	"renegade_guard_research_master_of_the_horde" },
				{ 1, 450, 0, 0, 1,	"Building",	"renegade_guard_hq" },	
				{ 1, 125, 0, 0, 1,	"Building",	"renegade_guard_infantry_horde" },	
				{ 1, 200, 40, 0, 1,	"Unit",		"renegade_guard_squad_master_of_the_horde" },			
				{ 1, 125, 0, 0, 1,	"Unit",		"renegade_guard_squad_fanatics" },
				{ 1, 160, 0, 0, 3,	"Unit",		"renegade_guard_squad_guardsmen_horde" },
				{ 1, 165, 0, 0, 1,	"Building",	"renegade_guard_plasma_generator" },
				{ 1, 175, 50, 450, 1,	"Building",	"renegade_guard_tactica" },
				{ 1, 165, 0, 0, 2,	"Building",	"renegade_guard_plasma_generator" },
				{ 1, 300, 175, 500, 1, 	"Addon",	"addon_renegade_guard_hq_1" },
				{ 1, 100, 60, 600, 50,	"TurretAddon",  "addon_renegade_guard_list_post_1" },
				{ 1, 165, 0, 650, 3,	"Building",	"renegade_guard_plasma_generator" },		
				{ 1, 65, 25, 750, 1,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 1, 165, 0, 800, 4,	"Building",	"renegade_guard_plasma_generator" },			

				{ 2, 200, 40, 0, 1,	"Unit",		"renegade_guard_squad_psyker_coven" },
				{ 2, 100, 70, 0, 1,	"Unit",		"renegade_guard_squad_chimera" },
				{ 2, 150, 100, 0, 1,	"Unit",		"renegade_guard_squad_sentinel" },	
				{ 2, 200, 50, 0, 1,	"Unit",		"renegade_guard_squad_heavy_weapons_militia" },	
				{ 2, 250, 150, 250, 1,	"Building",	"renegade_guard_mechanized" },				
				{ 2, 100, 60, 250, 100,	"TurretAddon",  "addon_renegade_guard_list_post_1" },
				{ 2, 165, 0, 500, 6,	"Building",	"renegade_guard_plasma_generator" },
				{ 2, 75, 250, 1000, 1,	"Research",	"renegade_guard_upgrade_requisition_1" },
				{ 2, 150, 50, 1000, 1,	"Research",	"renegade_guard_upgrade_power_1" },
				{ 2, 340, 340, 1500, 1,	"Addon",	"addon_renegade_guard_hq_2" },
				{ 2, 250, 100, 2000, 50,"TurretAddon",  "addon_renegade_guard_list_post_2" },
				{ 2, 65, 25, 2000, 2,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 2, 50, 50, 2000, 2,	"Building",	"renegade_guard_mines" },

				{ 3, 225, 75, 0, 1,	"Unit",		"renegade_guard_squad_ogryns" },
				{ 3, 225, 100, 0, 1,	"Unit",		"renegade_guard_squad_kasrkin" },
				{ 3, 150, 250, 0, 1,	"Unit",		"renegade_guard_squad_medusa" },
				{ 3, 100, 300, 1500, 1,	"Research",	"renegade_guard_upgrade_requisition_2" },
				{ 3, 250, 100, 2000, 1,	"Research",	"renegade_guard_upgrade_power_2" },
				{ 3, 250, 100, 2000, 100,"TurretAddon", "addon_renegade_guard_list_post_2" },
				{ 3, 250, 300, 2000, 1,	"Building",	"renegade_guard_earthshaker_platform" },
				{ 3, 65, 25, 2000, 4,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 3, 50, 50, 2000, 4,	"Building",	"renegade_guard_mines" },
				{ 3, 450, 450, 2500, 1,	"Research",	"renegade_guard_full_scale_war" },				
				{ 3, 165, 85, 2500, 1,	"Building",	"renegade_guard_voice_of_xaphan" },

				{ 4, 200, 50, 250, 1,	"Building",	"renegade_guard_mars_pattern" },
				{ 4, 65, 25, 2000, 6,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 4, 50, 50, 2000, 6,	"Building",	"renegade_guard_mines" },
				{ 4, 700, 150, 3000, 2,	"Building",	"renegade_guard_hq" }
			},

			-- Tekarn Strategy
			{
				{ 1, 0, 0, 0, 1,	"Research",	"renegade_guard_research_mutant_overlord" },
				{ 1, 450, 0, 0, 1,	"Building",	"renegade_guard_hq" },
				{ 1, 125, 0, 0, 1,	"Building",	"renegade_guard_infantry" },	
				{ 1, 200, 40, 0, 1,	"Unit",		"renegade_guard_squad_mutant_overlord" },			
				{ 1, 125, 0, 0, 1,	"Unit",		"renegade_guard_squad_tekarn_scout" },
				{ 1, 140, 0, 0, 3,	"Unit",		"renegade_guard_squad_tekarn" },
				{ 1, 50, 0, 0, 1,	"Building",	"renegade_guard_chronosphere" },				
				{ 1, 150, 0, 0, 1,	"Building",	"renegade_guard_plasma_generator_raiden" },
				{ 1, 175, 50, 450, 1,	"Building",	"renegade_guard_tactica" },
				{ 1, 150, 0, 0, 2,	"Building",	"renegade_guard_plasma_generator_raiden" },
				{ 1, 300, 175, 500, 1, 	"Addon",	"addon_renegade_guard_hq_1" },
				{ 1, 100, 60, 600, 50,	"TurretAddon",  "addon_renegade_guard_list_post_1" },
				{ 1, 150, 0, 650, 3,	"Building",	"renegade_guard_plasma_generator_raiden" },	
				{ 1, 65, 25, 750, 1,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 1, 150, 0, 800, 4,	"Building",	"renegade_guard_plasma_generator_raiden" },

				{ 2, 100, 70, 0, 1,	"Unit",		"renegade_guard_squad_sentinel_striker" },
				{ 2, 150, 100, 0, 1,	"Unit",		"renegade_guard_squad_griffon" },	
				{ 2, 220, 100, 0, 1,	"Unit",		"renegade_guard_squad_tekarn_archer" },	
				{ 2, 200, 125, 250, 1,	"Building",	"renegade_guard_machine_pit" },				
				{ 2, 100, 60, 250, 100,	"TurretAddon",  "addon_renegade_guard_list_post_1" },
				{ 2, 150, 0, 500, 6,	"Building",	"renegade_guard_plasma_generator_raiden" },
				{ 2, 75, 250, 1000, 1,	"Research",	"renegade_guard_upgrade_requisition_1" },
				{ 2, 150, 50, 1000, 1,	"Research",	"renegade_guard_upgrade_power_1" },
				{ 2, 340, 340, 1500, 1,	"Addon",	"addon_renegade_guard_hq_2" },
				{ 2, 250, 100, 2000, 50,"TurretAddon",  "addon_renegade_guard_list_post_2" },
				{ 2, 65, 25, 2000, 2,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 2, 50, 50, 2000, 2,	"Building",	"renegade_guard_mines" },

				{ 3, 225, 75, 0, 1,	"Unit",		"renegade_guard_squad_thunderbolt" },
				{ 3, 225, 100, 0, 1,	"Unit",		"renegade_guard_squad_tekarn_rocketeer" },
				{ 3, 150, 250, 0, 1,	"Unit",		"renegade_guard_squad_tsunami" },
				{ 3, 100, 300, 1500, 1,	"Research",	"renegade_guard_upgrade_requisition_2" },
				{ 3, 250, 100, 2000, 1,	"Research",	"renegade_guard_upgrade_power_2" },
				{ 3, 250, 100, 2000, 100,"TurretAddon", "addon_renegade_guard_list_post_2" },
				{ 3, 65, 25, 2000, 4,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 3, 50, 50, 2000, 4,	"Building",	"renegade_guard_mines" },
				{ 3, 450, 450, 2500, 1,	"Research",	"renegade_guard_full_scale_war" },

				{ 4, 200, 50, 250, 1,	"Building",	"renegade_guard_mars_pattern" },
				{ 4, 350, 350, 2000, 1,	"Building",	"renegade_guard_tricannon_platform" },
				{ 4, 350, 350, 2000, 1,	"Building",	"renegade_guard_pulse_scanner" },
				{ 4, 65, 25, 2000, 6,	"Building",	"renegade_guard_turret_heavy_bolter" },
				{ 4, 50, 50, 2000, 6,	"Building",	"renegade_guard_mines" },
				{ 4, 700, 150, 3000, 2,	"Building",	"renegade_guard_hq" }
			}
		},

		SquadLimits = 
		{
			standard = 
			{
				renegade_guard_squad_enginseer = 0,					
				renegade_guard_squad_tekarn_engineer = 0,				
				renegade_guard_squad_tekarn_engineer_advance_sp = 0,			
				renegade_guard_squad_fanatics = 3,			
				renegade_guard_squad_tekarn_scout = 3,	
				renegade_guard_squad_tekarn_scout_sp_dxp3_prisoner = math.random( 2,4 ),		
				renegade_guard_squad_guardsmen_horde = math.random( 2,4 ),	
				renegade_guard_squad_tekarn = math.random( 2,4 ),			
				renegade_guard_squad_tekarn_advance_sp = math.random( 2,4 ),		
				renegade_guard_squad_heavy_weapons_militia = math.random( 1,2 ),				
				renegade_guard_squad_heavy_weapons_militia_advance_sp = 1,					
				renegade_guard_squad_tekarn_archer = math.random( 1,2 ),					
				renegade_guard_squad_tekarn_tankbuster = math.random( 1,2 ),		
				renegade_guard_squad_tekarn_rocketeer = math.random( 1,2 ),
				renegade_guard_squad_tekarn_rocketeer_sp_dxp3_prisoner = 2,
				renegade_guard_squad_tekarn_acheron = 1,
				renegade_guard_squad_glaw_agents_sp_dxp3_prisoner = math.random( 2,4 ),	
				renegade_guard_squad_scion = 1,						
				renegade_guard_squad_scion_advance_sp = math.random( 2,4 ),				
				renegade_guard_squad_beastmen = 1,					
				renegade_guard_squad_kasrkin = 1,					
				renegade_guard_squad_kasrkin_advance_sp = 1,
				renegade_guard_squad_tekarn_ogryns = 1,
				renegade_guard_squad_ogryns = 1,					
				renegade_guard_squad_tekarn_eradicator = 1,			
				renegade_guard_squad_tekarn_yorha = 1,
				renegade_guard_squad_tekarn_skitarii = 1,			
				renegade_guard_squad_yae = 1,						
				renegade_guard_squad_yae_no_seegs = 1,					
				renegade_guard_squad_medic = 1,						
				renegade_guard_squad_nihon_actual_maiden_advance_sp = 1,		
				renegade_guard_squad_arch_heretic = 1,					
				renegade_guard_squad_arch_heretic_advance_sp = 1,					
				renegade_guard_squad_assassin = 1,					
				renegade_guard_squad_eversor = 1,					
				renegade_guard_squad_heretek_magos = 1,					
				renegade_guard_squad_psyker_coven = 1,		
				renegade_guard_squad_master_of_the_horde = 1,				
				renegade_guard_squad_mutant_overlord = 1,				
				renegade_guard_squad_mutant_overlord_advance_sp = 1,	
				renegade_guard_squad_mutant_overlord_survival = 1,
				renegade_guard_squad_mutant_overlord_ktgm = 1,
				renegade_guard_squad_herrscher = 1,					
				renegade_guard_squad_herrscher_advance_sp = 1,	
				renegade_guard_squad_herrscher_ktgm = 1,		
				renegade_guard_squad_stormtrooper_tekarn = 1,
				renegade_guard_squad_stormtrooper_sp_dxp3_prisoner = math.random( 2,4 ),		
				renegade_guard_squad_tekarn_reporter = 1,			
				renegade_guard_squad_tekarn_samurai = 1,
				renegade_guard_squad_tekarn_sara = 1,			
				renegade_guard_squad_tekarn_balalaika = 1,			
				renegade_guard_squad_tekarn_colonel = 1,				
				renegade_guard_squad_tekarn_boba = 1,					
				renegade_guard_squad_tekarn_ronin = 1,
				renegade_guard_squad_tekarn_kaga = 1,
				renegade_guard_squad_tekarn_ktgm = 1,	
				renegade_guard_squad_tengu = 1,	
				renegade_guard_squad_tekarn_tarchia = math.random( 1,2 ),				
				renegade_guard_squad_sentinel = math.random( 1,3 ),			
				renegade_guard_squad_sentinel_striker = math.random( 1,2 ),		
				renegade_guard_squad_chimera = math.random( 1,3 ),			
				renegade_guard_squad_tekarn_chimera = math.random( 1,2 ),		
				renegade_guard_squad_tekarn_stormrider = math.random( 1,2 ),		
				renegade_guard_squad_testudo = math.random( 2,4 ),					
				renegade_guard_squad_hellhound = math.random( 1,3 ),			
				renegade_guard_squad_thunderbolt = math.random( 1,2 ),			
				renegade_guard_squad_tekarn_damocles = 1,				
				renegade_guard_squad_tsunami = math.random( 1,3 ),		
				renegade_guard_squad_griffon = math.random( 1,2 ),			
				renegade_guard_squad_medusa = math.random( 1,2 ),			
				renegade_guard_squad_medusa_nolimit_advance_sp = math.random( 1,2 ),	
				renegade_guard_squad_basilisk = math.random( 1,2 ),			
				renegade_guard_squad_stalk_tank = math.random( 1,2 ),				
				renegade_guard_squad_avenger = 1,			
				renegade_guard_squad_avenger_advance_sp = 1,			
				renegade_guard_squad_laser_destroyer = 1,			
				renegade_guard_squad_vendetta = math.random( 1,3 ),			
				renegade_guard_squad_vendetta_landed = 0,
				renegade_guard_squad_tekarn_gold_ship = 1,
				renegade_guard_squad_tekarn_haru_urara = 1,
				renegade_guard_squad_tekarn_mejiro_ryan = 1,
				renegade_guard_squad_tekarn_predator = math.random( 1,2 ),
				renegade_guard_squad_tekarn_tank_ace = 1,
				renegade_guard_squad_infernus = 1,
				renegade_guard_squad_iron_venti = 1,
				renegade_guard_squad_decimator_walker = 1,			
				renegade_guard_squad_lemanruss = math.random( 1,2 ),					
				renegade_guard_squad_lemanruss_advance_sp = 1,				
				renegade_guard_squad_tekarn_executioner = 1,				
				renegade_guard_squad_forgefiend = 1,					
				renegade_guard_squad_rogaldorn = 1,				
				renegade_guard_squad_banesword = 1,				
				renegade_guard_squad_baneblade = 1,				
				renegade_guard_squad_tekarn_baneblade = 1,			
				renegade_guard_squad_macharius = 1,					
				renegade_guard_squad_malcador = math.random( 1,2 ),			
				renegade_guard_squad_stormlord = 1,					
				renegade_guard_squad_tekarn_king_oni = 1,			
				renegade_guard_squad_giga_fortress = 1,					
				renegade_guard_squad_dominus_knight = 1,
			}
		}
	}
}
	-- AI re-initiation
	if cpu_manager.cpu_player:IsResearchComplete("renegade_guard_research_master_of_the_horde") then
		RG_AI_StrategyChosen = 1 -- Xaphan
	elseif cpu_manager.cpu_player:IsResearchComplete("renegade_guard_research_mutant_overlord") then
		RG_AI_StrategyChosen = 2  -- Raiden
	else
	end

	-- No strategy pre-chosen. Chose one now
		-- Get map size and closest enemy distance
		RG_sMapSize, RG_iClosestEnemyDistance = Strategy:GetMapSize()
		-- Set probabilities of the strategies according to the map size
		RG_iBuildProgram1 = 0	-- Xaphan
		RG_iBuildProgram2 = 0	-- Raiden
		if (RG_sMapSize == "small" or RG_iClosestEnemyDistance < 70) then
			RG_iBuildProgram1 = 60
			RG_iBuildProgram2 = 60
		elseif (RG_sMapSize == "medium") then
			RG_iBuildProgram1 = 50
			RG_iBuildProgram2 = 50
		else
			RG_iBuildProgram1 = 60
			RG_iBuildProgram2 = 60
		end
		-- Modify probabilities according to the closest enemy player
		RG_sEnemy = cpu_manager:FindClosestEnemyPlayer(false):GetPlayerRaceName()
		if (RG_sEnemy == "krieg_race" or RG_sEnemy == "khorne_marine_race" or RG_sEnemy == "inquisition_daemonhunt_race") then 
			RG_iBuildProgram1 = RG_iBuildProgram1 + 50 -- The main enemies of Vraks.
		elseif(RG_sEnemy == "tau_race" or RG_sEnemy == "enclaves_race" or RG_sEnemy == "firstborn_race") then 
			RG_iBuildProgram2 = RG_iBuildProgram2 + 50 -- Inazuma hates Tau and Tsaritsa Bronya.
		else
			RG_iBuildProgram1 = 50
			RG_iBuildProgram2 = 50
		end
		-- Now choose a program
		RG_iRandom = math.random(1, RG_iBuildProgram1 + RG_iBuildProgram2)
		if (RG_iRandom <= RG_iBuildProgram1) then
			RG_AI_StrategyChosen = 1 -- Xaphan
		else
			RG_AI_StrategyChosen = 2 -- Raiden
	end

	-- Strategy chosen.
if RG_AI_StrategyChosen == 1 then 

BuildOrderStrategyInfo = 
{
	renegade_guard_race =
	{
		Basic =
		{
			{ "research", "renegade_guard_research_master_of_the_horde"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" }, { "flag_capture" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "squad", "renegade_guard_squad_enginseer" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "post_builder" },
			{ "building", "renegade_guard_infantry_horde" },
			{ "squad", "renegade_guard_squad_guardsmen_horde" }
		},
		
		QuickStart =
		{
			{ "research", "renegade_guard_research_master_of_the_horde"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" },
			{ "post_builder" },
			{ "squad", "renegade_guard_squad_enginseer" },
			{ "squad", "renegade_guard_squad_fanatics" },		
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "building", "renegade_guard_infantry_horde" },
			{ "building", "renegade_guard_tactica" },
			{ "building", "renegade_guard_infantry_horde" },		
			{ "squad", "renegade_guard_squad_guardsmen_horde" },
			{ "squad", "renegade_guard_squad_guardsmen_horde" }			
		},
		
		LargeMap =
		{
			{ "research", "renegade_guard_research_master_of_the_horde"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" }, { "flag_capture" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "squad", "renegade_guard_squad_enginseer" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "squad", "renegade_guard_squad_fanatics" },
			{ "post_builder" },
			{ "building", "renegade_guard_infantry_horde" },
			{ "squad", "renegade_guard_squad_guardsmen_horde" }
		}
	}
}
	else
BuildOrderStrategyInfo = 
{
	renegade_guard_race =
	{
		Basic =
		{
			{ "research", "renegade_guard_research_mutant_overlord"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" }, { "flag_capture" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "squad", "renegade_guard_squad_tekarn_engineer" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "post_builder" },
			{ "building", "renegade_guard_chronosphere" },
			{ "building", "renegade_guard_infantry" },			
			{ "squad", "renegade_guard_squad_tekarn" }
		},
		
		QuickStart =
		{
			{ "research", "renegade_guard_research_mutant_overlord"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" },
			{ "post_builder" },
			{ "squad", "renegade_guard_squad_tekarn_engineer" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },		
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "building", "renegade_guard_chronosphere" },
			{ "building", "renegade_guard_infantry" },
			{ "building", "renegade_guard_tactica" },
			{ "building", "renegade_guard_infantry" },		
			{ "squad", "renegade_guard_squad_tekarn" },
			{ "squad", "renegade_guard_squad_tekarn" }	
		},
		
		LargeMap =
		{
			{ "research", "renegade_guard_research_mutant_overlord"},
			{ "flag_capture" }, { "flag_capture" },
			{ "flag_capture" }, { "flag_capture" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "squad", "renegade_guard_squad_tekarn_engineer" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "squad", "renegade_guard_squad_tekarn_scout" },
			{ "post_builder" },
			{ "building", "renegade_guard_chronosphere" },
			{ "building", "renegade_guard_infantry" },			
			{ "squad", "renegade_guard_squad_tekarn" }
		}
	}
}
	end
--------------------------------------------------------------------------------------------------------------------


AttackStrategyInfo = 
{
	renegade_guard_race =
	{
		MinArmyStrength = 450,
	},
}