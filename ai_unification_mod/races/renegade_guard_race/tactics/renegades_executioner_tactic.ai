----------------------------------------
-- File: 'renegades_executioner_tactic.ai'
-- Edited by Thudmeizer		@ 28.11.2024

class 'Renegades_Executioner_Tactic' (Renegades_Vehicle_Tactic)

Renegades_Executioner = {}

function Renegades_Executioner_Tactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Renegades Executioner Tactic")
end

function Renegades_Executioner_Tactic:InitAbilities()

	-- Init ability ID's
	if (Renegades_Executioner.shockwave_id == nil) then
		Renegades_Executioner.shockwave_id = cpu_manager.stats:GetAbilityID("renegade_guard_executioner_shockwave")
	end

	if (Renegades_Executioner.charge_id == nil) then
		Renegades_Executioner.charge_id = cpu_manager.stats:GetAbilityID("renegade_guard_executioner_charge")
	end
end

function Renegades_Executioner_Tactic:DoAbilities()

	if self.squad_ai:IsInCombat() then

		if self.squad_ai:CanDoAbility(Renegades_Executioner.shockwave_id) and self.squad_ai:IsAttacking() then
			if Ability.DoAbilityPos(self.squad_ai, Renegades_Executioner.shockwave_id, Ability.Filters.CloseEnemy, 8)
			or Ability.DoAbilityPos(self.squad_ai, Renegades_Executioner.shockwave_id, Ability.EntityFilters.CloseBaseEntityEnemy, 2) then
				return
			end
		end

		-- Try to Charge while in combat
		if self.squad_ai:CanDoAbility(Renegades_Executioner.charge) then
			if Ability.DoAbilityArea(self.squad_ai, Renegades_Executioner.charge, Ability.Filters.CloseEnemy, 20, 1) then
				return
			end
		end
	end

	-- Call standard method
	Renegades_Vehicle_Tactic.DoAbilities(self)
end