----------------------------------------
-- File: 'renegades_gigafortress_tactic.ai'
-- Edited by Thudmeizer		@ 29.08.2023

class 'Renegades_GigaFortress_Tactic' (Renegades_Vehicle_Tactic)

Renegades_GigaFortress = {}

function Renegades_GigaFortress_Tactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Renegades Giga Fortress Tactic")
end

function Renegades_GigaFortress_Tactic:AutoBuildAddOn( addonSlot )
	for e in self.squad_ai:GetEntities() do
		local buildChannel = build_manager:GetBuildChannelFromID(e:GetID())
		if buildChannel ~= nil then
			local addOnID = buildChannel:GetItemIDAt(BuildChannelAI.PQ_AddOn, addonSlot)
			if (buildChannel:IsBuilding() == 0 and buildChannel:CanAddToQueue(BuildChannelAI.PQ_AddOn, addOnID) == BuildChannelAI.CANBUILD_Ok) then
				buildChannel:BuildAddOn(addOnID)
				return
			end
		end
	end
	return
end

function Renegades_GigaFortress_Tactic:Upgrade()

	-- Force Lightning Field addon to be built
	self:AutoBuildAddOn(0) -- Lightning Field
end
