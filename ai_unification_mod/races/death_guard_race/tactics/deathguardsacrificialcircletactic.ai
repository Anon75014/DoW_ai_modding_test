-----------------------------------------------
-- File: 'deathguardsacrificialcircletactic.ai'
-- Edited by Gambit		@ 14.05.2022

class 'DeathGuardSacrificialCircleTactic' (BaseTactic)

function DeathGuardSacrificialCircleTactic:__init( base_ai ) super( base_ai )

	self:SetName("Death Guard Sacrificial Circle Tactic")

	self.m_bCanDeepStrikeTroops = true
end


function DeathGuardSacrificialCircleTactic:HQDeepStrikeImmediately()
	local buildChannelHQ = build_manager:GetBuildChannelFromID(self.base_ai:GetEntity():GetID())
	local id = buildChannelHQ:GetBlueprintID()
	if buildChannelHQ ~= nil then
		if buildChannelHQ:CanDeepStrike() and cpu_manager:MilitaryDeepStrike(id) then
			buildChannelHQ:DoDeepStrikeToPos(self.base_ai:GetPosition())
		end
	end
end


function DeathGuardSacrificialCircleTactic:DoAbilities()
	-- We want Daemons to be DSed immediately, in the first 4 minutes NOT only in battle!
	if g_iGMT < 240 then
		self:HQDeepStrikeImmediately()
	end
end