----------------------------------------
-- File: 'deathguardstrategyinfo.ai'
-- Edited by Thudmeizer @ 13.03.2025

	-- GAMBIT: Method to instantly and properly initiate the correct BuildOrderStrategyInfo
	G_DG_iPlagueCompanyBuilding1Choice = "death_guard_temple"
	G_DG_iPlagueCompanyBuilding2Choice = "death_guard_sacrificial_circle"
	G_DG_iPlagueCompanyTroop1Choice = "death_guard_squad_plague_marine_ranged"
	G_DG_iPlagueCompanyTroop2Choice = "death_guard_squad_plague_marine_melee"
	G_DG_iPlagueCompanyTroop3Choice = "death_guard_squad_blight_drone"
	G_DG_iPlagueCompanyTroop4Choice = "death_guard_squad_defiler"
	G_DG_iPlagueCompanyCommanderChoice = "death_guard_squad_lord"

	if cpu_manager.cpu_player:IsResearchComplete("death_guard_company_1_harbringers") then
		DG_Army_Strategy_Choice = 1
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_1_harbringers"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_2_inexorable") then
		DG_Army_Strategy_Choice = 2
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_2_inexorable"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_3_mortarion_anvil") then
		DG_Army_Strategy_Choice = 3
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_3_mortarion_anvil"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_4_wretched") then
		-- Special strategy with a DIFFERENT "starting set"!
		DG_Army_Strategy_Choice = 4
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_4_wretched"
		G_DG_iPlagueCompanyBuilding1Choice = "death_guard_sacrificial_circle_daemons"
		G_DG_iPlagueCompanyBuilding2Choice = "death_guard_temple_daemons"
		G_DG_iPlagueCompanyTroop1Choice = "death_guard_squad_plaguebearer"
		G_DG_iPlagueCompanyTroop2Choice = "death_guard_squad_nurgling"
		G_DG_iPlagueCompanyTroop3Choice = "death_guard_squad_blight_drone"
		G_DG_iPlagueCompanyTroop4Choice = "death_guard_squad_defiler"
		G_DG_iPlagueCompanyCommanderChoice = "death_guard_squad_herald"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_5_poxmongers") then
		DG_Army_Strategy_Choice = 5
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_5_poxmongers"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_6_ferrymen") then
		DG_Army_Strategy_Choice = 6
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_6_ferrymen"
	elseif cpu_manager.cpu_player:IsResearchComplete("death_guard_company_7_chosen_sons") then
		DG_Army_Strategy_Choice = 7
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_7_chosen_sons"
	else
		DG_Army_Strategy_Choice = math.random(1,7)

	if DG_Army_Strategy_Choice == 1 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_1_harbringers"
	elseif DG_Army_Strategy_Choice == 2 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_2_inexorable"
	elseif DG_Army_Strategy_Choice == 3 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_3_mortarion_anvil"
	elseif DG_Army_Strategy_Choice == 4 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_4_wretched"
		G_DG_iPlagueCompanyBuilding1Choice = "death_guard_sacrificial_circle_daemons"
		G_DG_iPlagueCompanyBuilding2Choice = "death_guard_temple_daemons"
		G_DG_iPlagueCompanyTroop1Choice = "death_guard_squad_plaguebearer"
		G_DG_iPlagueCompanyTroop2Choice = "death_guard_squad_nurgling"
		G_DG_iPlagueCompanyTroop3Choice = "death_guard_squad_blight_drone"
		G_DG_iPlagueCompanyTroop4Choice = "death_guard_squad_defiler"
		G_DG_iPlagueCompanyCommanderChoice = "death_guard_squad_herald"
	elseif DG_Army_Strategy_Choice == 5 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_5_poxmongers"
	elseif DG_Army_Strategy_Choice == 6 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_6_ferrymen"
	elseif DG_Army_Strategy_Choice == 7 then
		G_DG_iPlagueCompanyResearchChoice = "death_guard_company_7_chosen_sons"
	end
end

-- Notify player printed stats
print( "player "..cpu_manager.player_id.." has chosen army: "..DG_Army_Strategy_Choice)

BuildBaseStrategyInfo = 
{
	death_guard_race =
	{
		post_builder = 2,
		flag_capture = 2,

		-- Reserve this amount for building units, reinforcing and upgrading
		req_reserve = 100,

		-- need at least this at all times
		squad_cap_threshold = 1,

		-- need at least this at all times
		support_cap_threshold = 1,

		-- used to calculate wants for engineers
		Engineers =
		{
			--number of engineers we're aiming for
			want = 2,
		},

		-- Is used to modify the army strength in the build programs (Allows faster balancing adjustments)
		ArmyStrengthModifier = 1.0,

		-- Item-Syntax: Min. Tier, Min. Requisition, Min. Power, Min. ArmyStrength, Object-Count, Object-Type, Object-Name
		BuildPrograms =
		{
			-- Allround strategy
			{
				{ 1, 0, 0, 0, 1,	"Research",	G_DG_iPlagueCompanyResearchChoice },	-- GAMBIT: Army type calculated above
				{ 1, 450, 0, 0, 1,	"Building",	"death_guard_hq" },
				{ 1, 150, 0, 0, 1,	"Building",	G_DG_iPlagueCompanyBuilding1Choice },	-- GAMBIT: Structure type calculated above
				{ 1, 105, 0, 0, 1,	"Unit",		"death_guard_squad_cultist" },
				{ 1, 270, 90, 0, 1,	"Unit",		G_DG_iPlagueCompanyCommanderChoice },	-- GAMBIT: Commander type calculated above
				{ 1, 150, 0, 0, 1,	"Unit",		G_DG_iPlagueCompanyTroop1Choice },	-- GAMBIT: Troop type calculated above
				{ 1, 160, 0, 0, 1,	"Unit",		G_DG_iPlagueCompanyTroop2Choice },	-- GAMBIT: Troop type calculated above
				{ 1, 150, 0, 0, 1,	"Building",	"death_guard_plasma_generator" },
				{ 1, 175, 50, 500, 1,	"Building",	"death_guard_armoury" },
				{ 1, 100, 75, 650, 60,	"TurretAddon", 	"death_guard_list_post_addon_1" },
				{ 1, 150, 0, 700, 2,	"Building",	"death_guard_plasma_generator" },
				{ 1, 150, 0, 800, 3,	"Building",	"death_guard_plasma_generator" },
				{ 1, 325, 125, 900, 1,	"Addon",	"death_guard_hq_addon_1" },
				{ 1, 100, 75, 950, 100,"TurretAddon", 	"death_guard_list_post_addon_1" },
				{ 1, 150, 0, 1000, 4,	"Building",	"death_guard_plasma_generator" },

				{ 2, 100, 70, 0, 1,	"Unit",		"death_guard_squad_rhino" },
				{ 2, 120, 200, 0, 1,	"Unit",		"death_guard_squad_tempest" },
				{ 2, 140, 20, 0, 1,	"Unit",		"death_guard_squad_plague_havoc" },
				{ 2, 180, 50, 0, 1,	"Unit",		G_DG_iPlagueCompanyTroop3Choice },	-- GAMBIT: Troop type calculated above
				{ 2, 150, 260, 0, 1,	"Unit",		G_DG_iPlagueCompanyTroop4Choice },	-- GAMBIT: Troop type calculated above
				{ 2, 200, 125, 250, 1,	"Building",	"death_guard_machine_pit" },
				{ 2, 150, 0, 1000, 6,	"Building",	"death_guard_plasma_generator" },
				{ 2, 125, 0, 1000, 1,	"Research",	"death_guard_support_cap_research" },
				{ 2, 75, 250, 1000, 1,	"Research",	"death_guard_requisition_research_1" },
				{ 2, 200, 40, 1000, 1,	"Research",	"death_guard_power_research_1" },
				{ 2, 150, 50, 1500, 1,	"Building",	G_DG_iPlagueCompanyBuilding2Choice },	-- GAMBIT: Structure type calculated above
				{ 2, 340, 340, 2000, 1,	"Addon",	"death_guard_hq_addon_2" },
				{ 2, 265, 155, 2000, 40,"TurretAddon", 	"death_guard_list_post_addon_2" },
				{ 2, 100, 50, 2000, 3,	"Building",	"death_guard_turret_bolter" },
				{ 2, 50, 0, 2000, 40,	"Addon",	"death_guard_turret_addon" },
				{ 2, 50, 50, 2000, 2,	"Building",	"death_guard_mine_field" },

				{ 3, 180, 50, 0, 1,	"Unit",		"death_guard_squad_blight_drone" },
				{ 3, 150, 260, 0, 1,	"Unit",		"death_guard_squad_defiler" },
				{ 3, 260, 100, 0, 1,	"Unit",		"death_guard_squad_chosen" },
				{ 3, 75, 350, 2000, 1,	"Research",	"death_guard_requisition_research_2" },
				{ 3, 350, 0, 2000, 1,	"Research",	"death_guard_power_research_2" },
				{ 3, 265, 155, 2000, 60,"TurretAddon", 	"death_guard_list_post_addon_2" },
				{ 3, 250, 125, 2000, 1,	"Building",	"death_guard_greater_sacrificial_circle" },
				{ 3, 450, 450, 2500, 1,	"Research",    	"death_guard_projectiles" },
				{ 3, 55, 10, 2500, 80,	"Addon",	"death_guard_turret_addon_2" },
				{ 3, 100, 50, 2500, 4,	"Building",	"death_guard_turret_bolter" },
				{ 3, 50, 50, 2500, 4,	"Building",	"death_guard_mine_field" },

				{ 4, 190, 80, 0, 1,	"Unit",		"death_guard_squad_terminator_blightlord" },
				{ 4, 190, 80, 0, 1,	"Unit",		"death_guard_squad_terminator_deathshroud" },
			        { 4, 250, 250, 0, 1,	"Research",	"death_guard_daemon_prince_research" },
				{ 4, 100, 50, 2000, 6,	"Building",	"death_guard_turret_bolter" },
				{ 4, 50, 50, 2000, 6,	"Building",	"death_guard_mine_field" },
				{ 4, 265, 155, 3000, 100,"TurretAddon", "death_guard_list_post_addon_2" },
				{ 4, 450, 0, 4000, 2,	"Building",	"death_guard_hq" }
			}
		},
				
		SquadLimits = 
		{
			standard =
			{
				death_guard_squad_slave = 0,
				death_guard_squad_gut = 1,
				death_guard_squad_glitchling = math.random( 3,5 ),
				death_guard_squad_cultist = math.random( 3,5 ),
				death_guard_squad_flies = math.random( 1,3 ),
				death_guard_squad_zombie = math.random( 8,10 ),
				death_guard_squad_zombie_spawner = math.random( 25,70 ),
				death_guard_squad_zombie_ktgm = 1,
				death_guard_squad_nurgling = math.random( 8,10 ),
				death_guard_squad_plaguebearer = math.random( 6,10 ),
				death_guard_squad_plague_marine_melee = math.random( 2,3 ),
				death_guard_squad_plague_marine_ranged = math.random( 2,3 ),
				death_guard_squad_plague_havoc = 2,
				death_guard_squad_plague_poisoner = 2,
				death_guard_squad_possessed = 1,
				death_guard_squad_chosen = 1,
				death_guard_squad_terminator_blightlord = 1,
				death_guard_squad_terminator_deathshroud = 1,
				death_guard_squad_blightbringer = math.random( 2,3 ),
				death_guard_squad_blightspawn = math.random( 2,3 ),
				death_guard_squad_icon = 1,
				death_guard_squad_sigil = 1,
				death_guard_squad_putrifier = math.random( 2,3 ),
				death_guard_squad_surgeon = math.random( 2,3 ),
				death_guard_squad_tallyman = math.random( 2,3 ),
				death_guard_squad_herald = 1,
				death_guard_squad_sorcerer = 1,
				death_guard_squad_sorcerer_2 = 1,
				death_guard_squad_sorcerer_terminator = 1,
				death_guard_squad_lord = 1,
				death_guard_squad_lord_2 = 1,
				death_guard_squad_lord_terminator = 1,
				death_guard_squad_typhus = 1,
				death_guard_squad_typhus_ktgm = 1,
				death_guard_squad_daemon_prince = 1,
				death_guard_squad_daemon_prince_2 = 1,
				death_guard_squad_guo = 1,
				death_guard_squad_mortarion = 1,
				death_guard_squad_rhino = math.random( 1,2 ),
				death_guard_squad_tempest = math.random( 2,3 ),
				death_guard_squad_blight_drone = math.random( 2,3 ),
				death_guard_squad_dreadnought = 2,
				death_guard_squad_dreadnought_hellfire = 2,
				death_guard_squad_defiler = math.random( 2,3 ),
				death_guard_squad_plagueburst_crawler = 2,
				death_guard_squad_predator = 2,
				death_guard_squad_whirlwind = 2,
				death_guard_squad_plague_reaper = 1,
				death_guard_squad_plague_reaper_7th = 1,
				death_guard_squad_plague_tower = 1,
				death_guard_squad_land_raider = 1,
				death_guard_squad_land_raider_helios = 1,
				death_guard_squad_warhound_titan = 1,
			}
		},
	},
}

BuildOrderStrategyInfo = 
{
	death_guard_race =
	{
		Basic =
		{
			{ "research", G_DG_iPlagueCompanyResearchChoice },	-- GAMBIT: Calculated above
			{ "flag_capture" }, { "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "squad", "death_guard_squad_slave" },
			{ "post_builder" },
			{ "flag_capture" }, { "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, { "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, { "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, { "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, { "flag_capture" }, 
			{ "building", G_DG_iPlagueCompanyBuilding1Choice }	-- GAMBIT: Calculated above
		},
		
		QuickStart =
		{
			{ "research", G_DG_iPlagueCompanyResearchChoice },	-- GAMBIT: Calculated above
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "building", G_DG_iPlagueCompanyBuilding1Choice },	-- GAMBIT: Calculated above
			{ "squad", "death_guard_squad_slave" },
			{ "building", G_DG_iPlagueCompanyBuilding1Choice },	-- GAMBIT: Calculated above
			{ "squad", "death_guard_squad_slave" },
			{ "post_builder" }
		},
		
		LargeMap =
		{
			{ "research", G_DG_iPlagueCompanyResearchChoice },	-- GAMBIT: Calculated above
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_cultist" },
			{ "flag_capture" }, 
			{ "squad", "death_guard_squad_slave" },
			{ "building", G_DG_iPlagueCompanyBuilding1Choice },	-- GAMBIT: Calculated above
			{ "squad", "death_guard_squad_slave" },
			{ "post_builder" }
		}
	}
}

AttackStrategyInfo = 
{	
	death_guard_race =
	{
		MinArmyStrength = 750,
	},
}