----------------------------------------
-- File: 'firstbornvehicletactic.ai'
-- Edited by Thudmeizer		@ 29.10.2025

class 'FirstbornVehicleTactic' (VehicleTactic)

function FirstbornVehicleTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Firstborn Vehicle Tactic")

	-- Polaris can enter deepstrike buildings
	local sName = squad_ai:GetSquadName()
	if (sName == "firstborn_squad_polaris") then
		self.m_iDeepStrikeBlueprintID = cpu_manager.stats:GetBuildingID("firstborn_mars_pattern")
	end
end

-- Check if the vehicle should dance away in melee
function FirstbornVehicleTactic:CheckVehicleDance(sName)

	if (sName == "firstborn_squad_basilisk" or
		sName == "firstborn_squad_chimera" or
		sName == "firstborn_squad_pegasus" or
		sName == "firstborn_squad_scylla" or
		sName == "firstborn_squad_banewolf" or
		sName == "firstborn_squad_hellhound" or
		sName == "firstborn_squad_tunguska" or
		sName == "firstborn_squad_ragnarok" or
		sName == "firstborn_squad_ragnarok_demolisher" or
		sName == "firstborn_squad_siegfried" or
		sName == "firstborn_squad_ragnarok_siegemaster" or
		sName == "firstborn_squad_polaris" or
		sName == "firstborn_squad_lemanruss_tesla" or
		sName == "firstborn_squad_malcador" or
		sName == "firstborn_squad_malcador_nocap" or
		sName == "firstborn_squad_praetor" or
		sName == "firstborn_squad_pion" or
		sName == "firstborn_squad_kirov" or
		sName == "firstborn_squad_doomhammer" or
		sName == "firstborn_squad_stormhammer" or
		sName == "firstborn_squad_macharius") then
		return true
	end
	return false
end

function FirstbornVehicleTactic:DoAbilities()

	local sSquadName = self.squad_ai:GetSquadName()
	if (sSquadName == "firstborn_squad_lightning" or
		sSquadName == "firstborn_squad_kirov") then

		-- New code to unstuck units with pathing issues, that can jump.
		-- Call it with [true], only for multi-membered squads.
		self:SolveStuckCase(false)
	end
end

function FirstbornVehicleTactic:CanOnlyDecap()

	local sSquadName = self.squad_ai:GetSquadName()
	if (sSquadName == "firstborn_squad_scylla") then
		return true
	end
	return false
end

