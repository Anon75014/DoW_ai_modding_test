----------------------------------------
-- File: 'kinfantrytactic.ai'
-- Created by I_Chample
-- Edited by Thudmeizer  @ 09.03.2023

class 'kBCVTactic' (kInfantryTactic)

BCV = {}

function kBCVTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("k BCV Tactic")

	BCV.NextExecuteCheck = 0
end

function kBCVTactic:InitAbilities()

	if (BCV.sarcrificle_id == nil or BCV.NextExecuteCheck == nil) then
		BCV.sarcrificle_id = cpu_manager.stats:GetAbilityID( "khm_cult_sarcrificle" )
		BCV.NextExecuteCheck = iGMT
	end
end

function kBCVTactic:DoAbilities()

	if (self.squad_ai:IsAttacking() and self.squad_ai:CanDoAbility(BCV.sarcrificle_id) and
		self.squad_ai:GetNumTroopers() > 5 and g_iGMT > BCV.NextExecuteCheck) then
		self.squad_ai:DoSpecialAbility(BCV.sarcrificle_id) 
		BCV.NextExecuteCheck = g_iGMT + 20
	end

	kInfantryTactic.DoAbilities(self)
end