Templar_Ability = 
{
  --pass these filters into the functions below to figure out the target to do special ability on
  Filters = 
  {
  
    CloseVehicleMedEnemy = function(vPosition, iTolerance, iCount)

      -- Make sure that count is valid
      if (iCount == nil) then
        iCount = 1
      end

      -- Quick check
      if (not cpu_manager:CloseEnemyUnits(vPosition, iTolerance)) then
        return nil
      end

      local oSquad = cpu_manager.cpu_player:FindFirstVehicleEnemy(vPosition, iTolerance, iCount)

      if (oSquad ~= nil) then        
        local oStats = oSquad:GetStats()
        if (oStats ~= nil) and ((oStats:GetClass() == UnitStatsAI.UC_VehicleMed) and oSquad:GetNumTroopers() >= iCount) then
           return oSquad  
        end
      end
      return nil
    end,

    CloseVehicleHighEnemy = function(vPosition, iTolerance, iCount)

      -- Make sure that count is valid
      if (iCount == nil) then
        iCount = 1
      end

      -- Quick check
      if (not cpu_manager:CloseEnemyUnits(vPosition, iTolerance)) then
        return nil
      end

      local oSquad = cpu_manager.cpu_player:FindFirstVehicleEnemy(vPosition, iTolerance, iCount)

      if (oSquad ~= nil) then        
        local oStats = oSquad:GetStats()
        if (oStats ~= nil) and ((oStats:GetClass() == UnitStatsAI.UC_VehicleHigh) and oSquad:GetNumTroopers() >= iCount) then
           return oSquad  
        end
      end
      return nil
    end,

    
    CloseMonsterHighEnemy = function(vPosition, iTolerance, iCount)

      -- Make sure that count is valid
      if (iCount == nil) then
        iCount = 1
      end

      -- Quick check
      if (not cpu_manager:CloseEnemyUnits(vPosition, iTolerance)) then
        return nil
      end

      local oSquad = cpu_manager.cpu_player:FindFirstEnemy(vPosition, iTolerance, iCount)

      if (oSquad ~= nil) then        
        local oStats = oSquad:GetStats()
        if (oStats ~= nil) and ((oStats:GetClass() == UnitStatsAI.UC_MonsterHigh) and oSquad:GetNumTroopers() >= iCount) then
           return oSquad  
        end
      end
      return nil
    end,
    
  },
}
