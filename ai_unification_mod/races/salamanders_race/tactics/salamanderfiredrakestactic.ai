----------------------------------------
-- File: 'salamanderfiredrakestactic.ai'
-- Edited by Gambit		@ 10.09.2019

class 'SalamanderFireDrakesTactic' (SalamanderInfantryTactic)

SalamanderFireDrakes = {}

function SalamanderFireDrakesTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Salamander Fire Drakes Tactic")
end

function SalamanderFireDrakesTactic:InitAbilities()

	-- Init ability ID's
	if SalamanderFireDrakes.call_daemonettes_id == nil then
		SalamanderFireDrakes.call_daemonettes_id = cpu_manager.stats:GetAbilityID( "salamander_call_daemonettes_ability" )
	end
end


function SalamanderFireDrakesTactic:DoAbilities()

	if self.squad_ai:IsInCombat() and self.squad_ai:CanDoAbility(SalamanderFireDrakes.call_daemonettes_id) then
		Ability.DoAbilityArea( self.squad_ai, SalamanderFireDrakes.call_daemonettes_id, Ability.Filters.CloseEnemy, 14, 1 )
	end
end


function SalamanderFireDrakesTactic:Reinforce()

	-- If there are no resources available, don't upgrade!
	if not Tactic.Options.can_reinforce then
		return
	end

	if not self.squad_ai:IsReinforcing() then
		-- Always try for the actual leader first
		if (self.squad_ai:CanReinforce( true, 0 )) then
			self.squad_ai:DoReinforce( true, 0 )
		elseif self.squad_ai:CanReinforce( false, 0 ) then
			self.squad_ai:DoReinforce( false, 0 )
		end
	end
end
