----------------------------------------
-- File: 'baskullprobetactic.ai'
-- Edited by Thudmeizer   @ 04.09.2023

class 'BloodAngelSkullProbeTactic' (BloodAngelsInfantryTactic)

BloodAngelSkullProbe = {}

function BloodAngelSkullProbeTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("Blood Angel Skull Probe Tactic")
end

function BloodAngelSkullProbeTactic:IsSupportDetector()
	return true
end

-- Should only attack when attached
function BloodAngelSkullProbeTactic:IsAttacker()
	return false
end

-- Should only defend when attached
function BloodAngelSkullProbeTactic:IsDefender()
	return false
end

function BloodAngelSkullProbeTactic:InitAbilities()

	if BloodAngelSkullProbe.sabotage_id == nil then
		BloodAngelSkullProbe.sabotage_id = cpu_manager.stats:GetAbilityID( "blood_angel_sabotage" )	
     	end
end

function BloodAngelSkullProbeTactic:DoAbilities()

	Ability.DoAbilityTarget(self.squad_ai, BloodAngelSkullProbe.sabotage_id, Ability.Filters.CloseVehicleEnemy, 1)
        Ability.DoAbilityTargetEntity( self.squad_ai, BloodAngelSkullProbe.sabotage_id, Ability.EntityFilters.CloseBaseEntityEnemy, 1)
end

function BloodAngelSkullProbeTactic:Update()

	if self:IsComplete() then
		return
   	end
   
	--state machine
	if not InfantryTactic.Update( self ) then
		return
	end

   	--attach to squad
   	self:TryAttachSquad( false, false, 1000, 150, nil )
end


